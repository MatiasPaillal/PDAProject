<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"> 
    <head>
         <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
          
        <title>BOLETA-CLIENTE</title>
        <meta charset="UTF-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
    </head>
    <body background="../imagenes/Fondo.jpg">

        <h1 align="center" style="font-size: 40px;">Boleta</h1>
        <div style="background-color: white; width: 40%; margin: 0 30%; position:relative; height:600px">
            <h1 align="center" style="font-size: 20px;" th:text="'R.U.T: ' + ${infoTienda[0].rutTienda}"></h1> 
            <h1 align="center" style="font-size: 20px;">BOLETA ELECTRONICA</h1>
            <h1 align="center" style="font-size: 20px;" th:text="'N° ' + ${boleta.nroBoleta}"></h1><br>
                <table style="margin: 0 auto; text-align: left;" th:if="${!infoTienda.isEmpty()}">
                    <tr><td align="center" style="font-size: 20px" th:text="${infoTienda[0].nombre}"></td></tr>
                    <tr></tr>
                    <tr><td align="left" style="font-size: 20px" th:text="'Dirección: ' + ${infoTienda[0].direccion}"></td></tr>
                    <tr><td align="left" style="font-size: 20px" th:text="'Telefono: ' + ${infoTienda[0].telefono}"></td></tr>
                    <tr><td align="left" style="font-size: 20px" th:text="'Fecha Emisión: ' + ${boleta.fechaEmisionFormateada()}"></td></tr>
                </table> 
                <hr>

                    <table  style="margin: 0 auto; text-align: left; ">
                        <tr>

                            <td align="center" style="width:100px">CANT.</td>
                            <td style="width:200px">ITEM.</td>
                            <td style="width:100px">VALOR U.</td>
                            <td style="width:100px">SUBTOTAL</td>
                        </tr>
                        <tr th:each="producto :${listaP}">
                            <td align="center" th:text="${producto.cantidad}"></td>
                            <td th:text="${producto.idProductoCarro.getNombre()}"></td>
                            <td th:text="'$ ' + ${producto.idProductoCarro.getPrecio()}"></td>
                            <td th:text="'$ ' + ${producto.idProductoCarro.getPrecio()} * ${producto.cantidad}"></td>
                        </tr>
                    </table>

                </hr>
                <h1 align="right" style="font-size: 15px; margin-right: 30px" th:text="'TOTAL: $ ' + ${totalCompra}"></h1>
        </div>
        <div th:if="${isAdmin}=='0'"  style="position: absolute; bottom: 0; right: 150px">
            <a href="/Ingresar" style="text-decoration: none"><h2 style="background-color: rgb(125,98,180); border: none; color: white; font-style: italic; padding: 5px 10px; border-radius: 20px">Finalizar</h2></a>
        </div>
        <div th:if="${isAdmin}=='1'"  style="position: absolute; bottom: 0; right: 150px">

            <form  method="POST" action="consultaAdmin">

                <input hidden th:value="${listaAdmin.usuario}" type="text"  name="usuario"></input>

                <input hidden th:value="${listaAdmin.password}" type="text"   name="password"></input>
                <input type="submit" value="volver" class="btn btn-primary"></input>

            </form>
        </div>



    </body>
</html>
